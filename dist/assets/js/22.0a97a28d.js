(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{380:function(e,r,t){"use strict";t.r(r);var a=t(42),s=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"recurring-invoices"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#recurring-invoices"}},[e._v("#")]),e._v(" Recurring Invoices")]),e._v(" "),t("p",[e._v("As the name suggests, Recurring Invoices are for automatically creating invoices on a given schedule & limit. If you have a client or customer whom you're regularly billing the same invoice regularly then you can use this feature to automatically create and send the invoices.")]),e._v(" "),t("h4",{attrs:{id:"fields"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fields"}},[e._v("#")]),e._v(" Fields:")]),e._v(" "),t("p",[e._v("A Recurring Invoice is just like a wrapper to create invoices automatically. Thus most of the fields you see here are same as "),t("RouterLink",{attrs:{to:"/guide/invoices.html#add-new-invoice"}},[e._v("Invoices")])],1),e._v(" "),t("p",[e._v("Some other additional fields are:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("Limit")]),e._v(': By default, its set to "None" where it\'ll create unlimited invoices until you change the status to COMPLETED or ON_HOLD. Otherwise you can limit the creation by a given count or a date.')]),e._v(" "),t("li",[t("strong",[e._v("Frequency")]),e._v(": By default, its set to Weekly, but you can change to monthly, yearly or provide a custom cron format.")])]),e._v(" "),t("h2",{attrs:{id:"recurring-invoice-lifecycle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#recurring-invoice-lifecycle"}},[e._v("#")]),e._v(" Recurring Invoice Lifecycle")]),e._v(" "),t("p",[e._v("Below are the different statuses of a recurring invoice:")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("ACTIVE:")]),e._v(" Actively creating invoices according to given schedule and limit.")]),e._v(" "),t("li",[t("strong",[e._v("ON HOLD:")]),e._v(" To pause creating invoices.")]),e._v(" "),t("li",[t("strong",[e._v("COMPLETED:")]),e._v(" To mark the Recurring Invoice as completed and stop creating invoices.")])]),e._v(" "),t("div",{staticClass:"custom-block wrapper"},[t("p",[t("img",{attrs:{src:"/images/recurring-invoices.png",alt:"Recurring Invoice Create Page"}})])]),e._v(" "),t("h2",{attrs:{id:"custom-frequency-schedule"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#custom-frequency-schedule"}},[e._v("#")]),e._v(" Custom Frequency (Schedule):")]),e._v(" "),t("p",[e._v("Crater supports creating recurring invoices based on a custom cron format. When you select Custom Format on "),t("em",[e._v("Frequency")]),e._v(" field, you can specify the expression yourself.")]),e._v(" "),t("p",[e._v("A CRON expression is a string representing the schedule for a particular command to execute. The parts of a CRON schedule are as follows:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("*    *    *    *    *\n-    -    -    -    -\n|    |    |    |    |\n|    |    |    |    |\n|    |    |    |    +----- day of week (0 - 7) (Sunday=0 or 7)\n|    |    |    +---------- month (1 - 12)\n|    |    +--------------- day of month (1 - 31)\n|    +-------------------- hour (0 - 23)\n+------------------------- min (0 - 59)\n\n")])])]),t("h2",{attrs:{id:"server-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#server-configuration"}},[e._v("#")]),e._v(" Server Configuration:")]),e._v(" "),t("p",[e._v("In order for Crater to automatically create Invoices on a given schedule, you will need to configure your server to run the job every minute.")]),e._v(" "),t("h4",{attrs:{id:"for-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-docker"}},[e._v("#")]),e._v(" For Docker:")]),e._v(" "),t("p",[e._v("Crater includes support for cron with docker on version 5.0.0 by default. If you're updating from a previous version, please take a backup of your database + files and re-run "),t("code",[e._v("docker-compose up")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"other-providers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#other-providers"}},[e._v("#")]),e._v(" Other Providers:")]),e._v(" "),t("p",[e._v("You need to add a single cron configuration entry to the server that runs the schedule:run command every minute.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("* * * * * cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1\n")])])]),t("p",[e._v("Example command for a shared hosting provider like Godaddy:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v(" /usr/local/bin/php /home/myuser/public_html/crater/artisan schedule:run >> /dev/null 2>&1\n")])])]),t("h4",{attrs:{id:"testing-locally"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#testing-locally"}},[e._v("#")]),e._v(" Testing Locally:")]),e._v(" "),t("p",[e._v("Run the below command if you would like to test recurring invoices on your local machine. (Note: This command does not work on windows)")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("php artisan schedule:work\n")])])])])}),[],!1,null,null,null);r.default=s.exports}}]);